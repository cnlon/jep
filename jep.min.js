/**
 * https://github.com/cnlon/jep
 */
!function(e,t){return"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.JEP=t()}(this,function(){"use strict";function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this.a=Object.create(null)}function t(e,t){var i=g.length;return g[i]=t?e.replace(c,"\\n"):e,'"'+i+'"'}function i(e,t){return g[t]}function n(e){return d.test(e)&&!p.test(e)}function r(e){return new RegExp("^(?:"+e.replace(h,"").replace(/\$/g,"\\$").replace(/,/g,"\\b|")+"\\b)")}function JEP(t){t=t||{};var i=t.cache||1e3,n=t.scope||"$",s=t.scopes,a=t.params;if(a||(s?(a=Object.keys(s),a.unshift(n)):a=[n]),this.c=new e(i),this.d=a.join(",").replace(h,""),this.e="function("+this.d+"){return ",this.f="}",this.scope=n,s){for(var c,u,l=Object.keys(s),d=0,f=l.length;d<f;d++)c=l[d],u=s[c],s[c]=r("[object Array]"===Object.prototype.toString.call(u)?u.join(","):u);this.g=s}var p;a.length>1&&(a=a.slice(1),p=a.join(","),this.h=r(p));var g=p?p+","+o:o;this.i=r(g)}var s=e.prototype;s.put=function(e,t){var i;this.size===this.limit&&(i=this.b());var n=this.get(e,!0);return n||(n={key:e},this.a[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size++),n.value=t,i},s.b=function(){var e=this.head;return e&&(this.head=this.head.newer,this.head.older=void 0,e.newer=e.older=void 0,this.a[e.key]=void 0,this.size--),e},s.get=function(e,t){var i=this.a[e];if(void 0!==i)return i!==this.tail&&(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i),t?i:i.value};var o="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",a=new RegExp("^("+"break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public".replace(/,/g,"\\b|")+"\\b)"),h=/\s/g,c=/\n/g,u=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,l=/"(\d+)"/g,d=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,f=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,p=/^(?:true|false)$/,g=[],v=JEP.prototype;v.j=function(e){if(this.h&&this.h.test(e))return e;if(this.g)for(var t,i=Object.keys(this.g),n=0,r=i.length;n<r;n++)if(t=this.g[i[n]],t.test(e))return i[n]+"."+e;return this.scope+"."+e},v.compile=function(e){a.test(e)&&JEP.debug&&w("Avoid using reserved keywords in expression: "+e),g.length=0;var n,r,s=e.replace(u,t).replace(h,""),o=this;return(" "+s).replace(f,function(e){return n=e.charAt(0),r=e.slice(1),o.i.test(r)?e:(r=r.indexOf('"')>-1?r.replace(l,i):r,n+o.j(r))}).replace(l,i).slice(1)},v.parse=function(e){if(!e||!(e=e.trim()))return"";var t=this.c.get(e);if(t)return t;var i=n(e)&&e.indexOf("[")<0?this.j(e):this.compile(e);return this.c.put(e,i),i},v.build=function(e){try{return new Function(this.d,"return "+e)}catch(t){JEP.debug&&w("Invalid expression. Generated function body: "+e)}},v.buildToString=function(e){return this.e+e+this.f},v.make=function(e){var t=this.parse(e);return this.build(t)},v.makeToString=function(e){var t=this.parse(e);return this.buildToString(t)},JEP.debug=!1;var w="undefined"!=typeof console&&"function"==typeof console.warn?console.warn:function(){};return JEP});
//# sourceMappingURL=jep.min.js.map